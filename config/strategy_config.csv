# ========================================================================
# COMPREHENSIVE TRADING STRATEGY CONFIGURATION
# ========================================================================
# All strategy, risk, position, profit-taking, and order settings in one place
# ========================================================================

# ========================================================================
# TARGET AND SESSION CONFIGURATION
# ========================================================================
# Trading symbol and market session settings

# Trading mode configuration 
trading_mode.mode,crypto
trading_mode.primary_symbol,BTC/USD

# ========================================================================
# MTH-TS STRATEGY CONFIGURATION
# ========================================================================
# Multi-Timeframe Hierarchical Trend Strategy for Crypto (BTC/USD)
# Target: $20+ daily via 20-40 aligned longs (no shorts)
# Position: $40 notional, TP +0.15%, SL -0.075%

# Strategy identification and enablement
strategy.mth_ts_enabled,true
strategy.mth_ts_name,MTH-TS
strategy.mth_ts_description,Multi-Timeframe Hierarchical Trend Strategy for BTC/USD

# Position sizing for MTH-TS
strategy.mth_ts_position_notional,40.0

# Take profit and stop loss percentages for MTH-TS
strategy.mth_ts_take_profit_percentage,0.0015
strategy.mth_ts_stop_loss_percentage,0.00075

# Reversal detection parameters
strategy.mth_ts_reversal_detection_enabled,true
strategy.mth_ts_reversal_spread_threshold,0.01
strategy.mth_ts_reversal_momentum_threshold,0.5

# ========================================================================
# MTH-TS DAILY LEVEL CONFIGURATION
# ========================================================================
# Macro bias: 200-EMA, ADX(14) from 30-min proxies

# Daily level enablement and parameters
# 50-period EMA balances trend accuracy with responsiveness to current market conditions
# Partial bar mechanism updates daily indicators every 30 minutes for intraday responsiveness
strategy.mth_ts_daily_enabled,true
strategy.mth_ts_daily_ema_period,50
strategy.mth_ts_daily_ema_significant_change_threshold,10.0
strategy.mth_ts_daily_adx_period,14
strategy.mth_ts_daily_adx_threshold,25
strategy.mth_ts_daily_adx_threshold_high,30

# Daily spread filters
strategy.mth_ts_daily_spread_filter_enabled,true
strategy.mth_ts_daily_avg_spread_threshold,0.03

# ========================================================================
# MTH-TS 30-MINUTE LEVEL CONFIGURATION
# ========================================================================
# Intermediate confirmation: 50-EMA, ADX(14)

# 30-minute level enablement and parameters
strategy.mth_ts_30min_enabled,true
strategy.mth_ts_30min_ema_period,50
strategy.mth_ts_30min_adx_period,14
strategy.mth_ts_30min_adx_threshold,25

# 30-minute spread filters
strategy.mth_ts_30min_spread_filter_enabled,true
strategy.mth_ts_30min_avg_spread_threshold,0.04
strategy.mth_ts_30min_volume_multiplier_strict,1.5
strategy.mth_ts_30min_volume_ma_period,20

# ========================================================================
# MTH-TS 1-MINUTE LEVEL CONFIGURATION
# ========================================================================
# Micro-trigger: 9/21-EMAs, RSI(14), volume MA(20)

# 1-minute level enablement and parameters
strategy.mth_ts_1min_enabled,true
strategy.mth_ts_1min_fast_ema_period,9
strategy.mth_ts_1min_slow_ema_period,21
strategy.mth_ts_1min_rsi_period,14
strategy.mth_ts_1min_rsi_threshold,40
strategy.mth_ts_1min_rsi_threshold_high,70
strategy.mth_ts_1min_rsi_threshold_strict,35
strategy.mth_ts_1min_volume_ma_period,20
strategy.mth_ts_1min_volume_multiplier,1.2

# 1-minute spread filters
strategy.mth_ts_1min_spread_filter_enabled,true
strategy.mth_ts_1min_spread_threshold,0.02

# ========================================================================
# MTH-TS 1-SECOND LEVEL CONFIGURATION
# ========================================================================
# Execution confirmation: EMA(5), spread validation

# 1-second level enablement and parameters
strategy.mth_ts_1sec_enabled,true
strategy.mth_ts_1sec_ema_period,5
strategy.mth_ts_1sec_momentum_bars,3
strategy.mth_ts_1sec_execution_timeout_seconds,3

# 1-second spread filters
strategy.mth_ts_1sec_spread_filter_enabled,true
strategy.mth_ts_1sec_spread_threshold,0.01

# ========================================================================
# MTH-TS HISTORICAL DATA CONFIGURATION
# ========================================================================
# Historical data loading parameters for multi-timeframe analysis

# Historical data time ranges (in days)
strategy.mth_ts_historical_daily_days,200
strategy.mth_ts_historical_30min_days,30
strategy.mth_ts_historical_1min_days,7
strategy.mth_ts_historical_1sec_hours,2

# Historical data limits (maximum bars to load per timeframe)
strategy.mth_ts_historical_daily_limit,250
strategy.mth_ts_historical_30min_limit,2000
strategy.mth_ts_historical_1min_limit,10000
strategy.mth_ts_historical_1sec_limit,7200

# Multi-timeframe data maintenance (maximum bars to keep in memory)
strategy.mth_ts_maintenance_daily_max,250
strategy.mth_ts_maintenance_30min_max,2000
strategy.mth_ts_maintenance_1min_max,10000
strategy.mth_ts_maintenance_1sec_max,7200

# MTH-TS minimum bars required for evaluation
strategy.mth_ts_min_daily_bars,10
strategy.mth_ts_daily_volume_ma_period,20
strategy.mth_ts_min_30min_bars,20
strategy.mth_ts_min_1min_bars,20
strategy.mth_ts_min_1sec_bars,10

# MTH-TS Propagation Configuration (Hybrid Evaluation)
strategy.mth_ts_propagation_lookback,3
strategy.mth_ts_propagation_ema_slope_threshold,0.001
strategy.mth_ts_propagation_min_score,0.7
strategy.mth_ts_min_consecutive_min_bars,2

# MTH-TS trading parameters
strategy.mth_ts_min_crypto_quantity,0.00001
strategy.mth_ts_stop_limit_multiplier,0.995

# MTH-TS reversal detection parameters
strategy.mth_ts_reversal_min_bars,5
strategy.mth_ts_reversal_momentum_bars,3


# Market session timing (Eastern Time)
session.et_utc_offset_hours,-4
session.market_open_hour,9
session.market_open_minute,30
session.market_close_hour,16
session.market_close_minute,0

# ========================================================================
# CORE STRATEGY SETTINGS
# ========================================================================
# Main strategy logic and signal detection

# STRATEGY: CONSERVATIVE PROFITABLE
# Perfect for: Steady profits, reduced risk, sustainable trading
# Characteristics: Fewer trades, higher win rate, proper confirmations
# Risk Level: LOW-MEDIUM | Signal Frequency: MEDIUM | Hold Time: MEDIUM

# Entry Signal Confirmation Requirements (AGGRESSIVE - Relaxed for Testing)
strategy.buy_signals_allow_equal_close,true
strategy.buy_signals_require_higher_high,false
strategy.buy_signals_require_higher_low,false
strategy.sell_signals_allow_equal_close,true
strategy.sell_signals_require_lower_low,false
strategy.sell_signals_require_lower_high,false

# Signal Filter Thresholds (AGGRESSIVE - Lowered for Easy Trades)
strategy.entry_signal_atr_multiplier,0.1
strategy.entry_signal_volume_multiplier,0.01
strategy.crypto_volume_multiplier,0.001
strategy.crypto_volume_change_amplification_factor,1.0
strategy.percentage_calculation_multiplier,100.0
strategy.minimum_volume_threshold,1e-10
strategy.average_atr_comparison_multiplier,1.0

# ATR-Based Signal Validation (AGGRESSIVE - Lowered Thresholds)
strategy.atr_absolute_minimum_threshold,0.01
strategy.use_absolute_atr_threshold_instead_of_relative,true

# ========================================================================
# VOLATILITY CALCULATION CONFIGURATION
# ========================================================================
# Configurable parameters for volatility calculations

strategy.bars_to_fetch_for_calculations,50
strategy.minutes_per_bar,1
strategy.atr_calculation_bars,20
strategy.minimum_bars_for_atr_calculation,21
strategy.daily_bars_timeframe,1Day
strategy.daily_bars_count,10
strategy.minimum_data_accumulation_seconds_before_trading,10

# Momentum Signal Requirements (AGGRESSIVE - Lowered for Easy Trades)
strategy.minimum_price_change_percentage_for_momentum,0.001
strategy.minimum_volume_increase_percentage_for_buy_signals,0.1
strategy.minimum_volatility_percentage_for_buy_signals,0.01
strategy.minimum_volume_increase_percentage_for_sell_signals,0.1
strategy.minimum_volatility_percentage_for_sell_signals,0.01
strategy.minimum_signal_strength_threshold,0.1

# Signal Strength Component Weighting (AGGRESSIVE - Weighted Toward Easier Signals)
strategy.basic_price_pattern_weight,0.5
strategy.momentum_indicator_weight,0.2
strategy.volume_analysis_weight,0.15
strategy.volatility_analysis_weight,0.15

# Candlestick Pattern Detection (AGGRESSIVE - Relaxed Doji Filter)
strategy.doji_candlestick_body_size_threshold_percentage,0.5

# ========================================================================
# RISK MANAGEMENT CONFIGURATION
# ========================================================================
# Risk parameters and limits for the strategy

# Daily Trading Limits (as percentages of account value)
# 1.0 = 100% (maximum allowed)
risk.max_daily_loss_percentage,1.0
risk.daily_profit_target_percentage,1.0
risk.max_account_exposure_percentage,100.0
risk.position_scaling_multiplier,1

# Per-Trade Risk Management (Conservative - 2% max risk per trade, $100 max per trade)
risk.risk_percentage_per_trade,0.02
risk.maximum_dollar_value_per_trade,100
risk.allow_multiple_positions_per_symbol,true
risk.maximum_position_layers,5
risk.close_positions_on_signal_reversal,false

# Buying Power Management (100% Utilization - Use all available capital)
risk.buying_power_utilization_percentage,1.0
risk.buying_power_validation_safety_margin,1.1

# Position Data Integrity Validation
risk.maximum_reasonable_position_quantity,1000000

# ========================================================================
# POSITION MANAGEMENT CONFIGURATION
# ========================================================================
# Position sizing, scaling, and management settings

# Position Sizing Strategy Selection
# Choose between fixed share amounts or risk-based sizing
strategy.enable_fixed_share_quantity_per_trade,true
strategy.enable_risk_based_position_multiplier,false

# Fixed Share Quantity Configuration (AGGRESSIVE - Larger Size for Testing)
# Used when enable_fixed_share_quantity_per_trade is true
# Overrides all risk-based calculations
strategy.fixed_share_quantity_per_trade,10

# Risk-Based Position Multiplier Configuration
# Used when enable_risk_based_position_multiplier is true
# 1.0 = normal risk-based size, 0.5 = half size, 2.0 = double size
strategy.risk_based_position_size_multiplier,1.0

# Position Size Constraints
strategy.maximum_share_quantity_per_single_trade,100000
strategy.maximum_dollar_value_per_single_trade,10000.0

# ========================================================================
# PROFIT TAKING AND EXIT STRATEGY
# ========================================================================
# Take profit and exit strategy settings

# TAKE PROFIT CONFIGURATION (Choose ONE method)
# Method 1: Percentage-based take profit (recommended for consistent % gains)
strategy.take_profit_percentage,0.015
strategy.use_take_profit_percentage,true

# Method 2: Risk/Reward ratio-based take profit (alternative)
# To use this method instead, set:
# strategy.use_take_profit_percentage,false
# Then take profit = entry_price + (rr_ratio * risk_amount) for long positions

# Risk/Reward ratio for exit calculations
strategy.rr_ratio,3.0

# Dollar-based profit taking (can be used with either method)
strategy.profit_taking_threshold_dollars,50.0
strategy.enable_profit_taking,true

# Price buffer for order execution
strategy.price_buffer_pct,0.001
strategy.min_price_buffer,0.02
strategy.max_price_buffer,0.25

# Stop Loss Order Configuration
strategy.stop_loss_buffer_amount_dollars,0.10
strategy.use_current_market_price_for_order_execution,true

# ========================================================================
# ORDER MANAGEMENT CONFIGURATION
# ========================================================================
# Order execution, validation, and cancellation settings

# Order validation
orders.min_quantity,1
orders.price_precision,2

# Order types and time in force
orders.default_time_in_force,gtc
orders.default_order_type,market

# Position closure settings
orders.position_closure_side_buy,buy
orders.position_closure_side_sell,sell

# API endpoints
orders.orders_endpoint,/v2/orders
orders.positions_endpoint,/v2/positions
orders.orders_status_filter,open

# Error handling
orders.zero_quantity_check,true
orders.position_verification_enabled,true

# Order cancellation strategy
orders.cancellation_mode,directional
orders.cancel_opposite_side,true
orders.cancel_same_side,false
orders.max_orders_to_cancel,50

# ========================================================================
# SHORT SELLING CONFIGURATION
# ========================================================================
# Short selling specific settings

strategy.enable_short_selling,true
strategy.short_availability_check,true
strategy.default_shortable_quantity,50
strategy.existing_short_multiplier,0.2
strategy.short_safety_margin,0.9
strategy.short_retry_attempts,3
strategy.short_retry_delay_ms,1000

# ========================================================================
# SIGNAL VALIDATION CONSTRAINTS
# ========================================================================
# Price and symbol validation for trading

strategy.minimum_acceptable_price_for_signals,1.0
strategy.maximum_acceptable_price_for_signals,10000.0

# ========================================================================
# PRECISION SETTINGS
# ========================================================================
# Display precision for calculations and logging

# Strategy precision configuration
strategy.ratio_display_precision,2
strategy.factor_display_precision,3
strategy.atr_volume_display_precision,3

# ========================================================================
# SIGNAL AND POSITION LABEL CONFIGURATION
# ========================================================================
# String labels for trading signals and position sides

strategy.signal_buy_string,buy
strategy.signal_sell_string,sell
strategy.position_long_string,LONG
strategy.position_short_string,SHORT

# Risk precision configuration
risk.percentage_display_precision,1
risk.exposure_calculation_precision,2
risk.risk_factor_precision,3
risk.currency_display_precision,2

# Orders precision configuration
orders.price_precision,2

# Timing precision configuration
timing.cpu_usage_display_precision,1
timing.performance_rate_display_precision,1

# ========================================================================
# ERROR HANDLING CONFIGURATION
# ========================================================================
# Retry and circuit breaker settings

# Retry configuration
error_handling.max_retries,3
error_handling.retry_delay_ms,1000

# Circuit breaker configuration
error_handling.circuit_breaker_enabled,true
error_handling.circuit_breaker_threshold,10
error_handling.circuit_breaker_timeout_min,5

# ========================================================================
# MONITORING CONFIGURATION
# ========================================================================
# System health monitoring and alerting

# Health check configuration
monitoring.health_check_interval_sec,30
monitoring.performance_report_interval_min,15

# Alert configuration
monitoring.alert_on_failure_rate,true
monitoring.max_failure_rate_pct,25.0
monitoring.alert_on_drawdown,true
monitoring.max_drawdown_pct,5.0
monitoring.alert_on_data_stale,true
monitoring.max_data_age_min,3
monitoring.max_inactivity_min,10
